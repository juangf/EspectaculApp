<!DOCTYPE html> 
<html>
	<head>
		<meta charset="utf-8">
		<title>EspectaculApp</title>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0"/>
		<meta name="format-detection" content="telephone=no">
		<!-- CSS development files -->
		<link rel="stylesheet" href="dist/css/espectaculapp.css" />
	</head>
	<body>
		<!-- Navigation Headers wrapper -->
		<esp-nav-wrapper></esp-nav-wrapper>

		<!-- Views wrapper -->
		<esp-view-wrapper></esp-view-wrapper>		

		<script id="templates/home.html" type="text/esp-template">
			<esp-view view-title="Home">
				<!--esp-header><div class="title">Esto es una prueba</div></esp-header-->
				<esp-content class="padding overflow-scroll">
					<p>Contenido de la vista HOME</p>
					<p><a href="#users">Ir a la página de usuarios</a></p>
					<p>
						
					</p>
					<p><a href="#users" id="test">Ir a la página de usuarios 2</a></p>
					<br/>
					<p><a href="javascript:s.dialog.show({title:'Título del diálogo', content:'Soy el contenido del diálogo'});">Diálogo</a>
					</p>
					<br/>
					<p>
						<a href="#" id="test-tap">Test TAP event</a>
					</p>
				</esp-content>
			</esp-view>
		</script>

		<script src="js/libs/handlebars-v3.0.3.js"></script>
		<script src="dist/js/espectaculapp.js"></script>
		<script>
			//Configure EspectaculApp
			s.config({
				views : {
					'users':{
						url : 'users',
						templateUrl: 'templates/users.html',
						transition: 'slide',
						/* Predefine events */
						events : {
							load : function(){
								console.log('loaded users');
							},
							show : function(){
								console.log('show users');
							},
							hide : function(){
								console.log('hide users');
							},
							beforeShow : function(){
								console.log('before show users');
							},
							beforeHide : function(){
								console.log('before hide users');
							}
						},
						templateData : function(){
							return {
								'users':'Dídaaaaaaaaac <b>hola</b>'
							}
						},
					},
					'home':{
						url : 'home',
						templateUrl: 'templates/home.html',
					}
				},
				firstView	: 'users',
				handlebarsTemplates : true,
				debugMode : true /*Debug flag Enabled*/
			});

			/* Post define events */
			esp.on(s.getView('home'), 'show', function(e){
				console.log('THIS',this);
				
				s.on(document.getElementById('test-tap'), 'tap', function(){
					alert('TAP');
				});
			});
			s.drawTouches(true);

			//Init EspectaculApp
			s.init();

		</script>
	</body>

</html>
